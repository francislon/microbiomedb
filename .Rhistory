runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
df[df[,col1]==1,]
df<-data.frame(col1=c(1,2,3,4),col2=c(2,2,3,4))
df[df[,col1]==1,]
df
df[df[col1]==1,]
df
df$col1
df[,col1]
df[,"col"]
df[,"col1"]
df[df[,"col1"]==1,]
df[,"col1"]==1
df[df[,"col1"]==1,"col1"]
df[df[,"col1"]!=1,"col1"]
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
shiny::runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
df[is.na(df["col1"]),"col1"]
df<-data.frame(col1=c(1,2,3,NA),col2=c(2,2,3,4))
df[is.na(df["col1"]),"col1"]
df[!is.na(df["col1"]),"col1"]
df[!is.na(df["col1"]),]
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
shiny::runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/correlation_app')
?hoverOpts
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
df<-data.table(col1="value1",col2="value2",col3="value3")
df
apply(df, 1, function(x) print(x))
apply(df, 1, function(x){
print(names(x))
# th<-paste0("<th scope='row'>", names(x))
})
apply(df, 1, function(x){
th<-paste0("<th scope='row'>", names(x), "</th>")
td<-paste0("<td>", x, "</td>")
})
apply(df, 1, function(x){
th<-paste0("<th scope='row'>", names(x), "</th>")
td<-paste0("<td>", x, "</td>")
paste0(th,td)
})
lapply(df, 1, function(x){
th<-paste0("<th scope='row'>", names(x), "</th>")
td<-paste0("<td>", x, "</td>")
paste0(th,td)
})
lapply(df, function(x){
th<-paste0("<th scope='row'>", names(x), "</th>")
td<-paste0("<td>", x, "</td>")
paste0(th,td)
})
apply(df, 1, function(x){
th<-paste0("<th scope='row'>", names(x), "</th>")
td<-paste0("<td>", x, "</td>")
paste0(th,td)
})
value<-apply(df, 1, function(x){
th<-paste0("<th scope='row'>", names(x), "</th>")
td<-paste0("<td>", x, "</td>")
paste0(th,td)
})
value
colnames(value)<-"table"
value
value[,paste(table)]
value[,paste(table), by="table"]
value[,toString(table)]
value[,toString(table), by="table"]
value[,toString(table), by=list(table)]
aggregate(value ~., value, toString)
aggregate(value, value, toString)
value
value[[table]]
value[["table"]]
value
value[,get("table")]
str(value)
value<-apply(df, 1, function(x){
th<-paste0("<th scope='row'>", names(x), "</th>")
td<-paste0("<td>", x, "</td>")
paste0(th,td)
})
paste(value)
paste(value, collapse ="")
paste(value, collapse ="<br>")
paste(value, collapse ="\n")
paste(value, collapse ="")
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
720.46+1
720,46+1
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
source('~/Projects/microbiomedb/common/hover_tooltips.R')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
shiny::runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
shiny::runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
shiny::runApp('Projects/microbiomedb/abundance_app')
runApp('Projects/microbiomedb/abundance_app')
source('~/Projects/microbiomedb/common/mbiome/mbiome-data.R')
runApp('Projects/microbiomedb/abundance_app')
shiny::runApp('Projects/microbiomedb/abundance_app')
runApp('Projects/microbiomedb/abundance_app')
shiny::runApp('Projects/microbiomedb/beta_diversity')
runApp('Projects/microbiomedb/beta_diversity')
runApp('Projects/microbiomedb/beta_diversity')
shiny::runApp('Projects/microbiomedb/beta_diversity')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/correlation_app')
runApp('Projects/microbiomedb/abundance_app')
runApp('Projects/microbiomedb/abundance_app')
runApp('Projects/microbiomedb/beta_diversity')
shiny::runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/abundance_app')
runApp('Projects/microbiomedb/differential_abundance')
runApp('Projects/microbiomedb/abundance_app')
runApp('Projects/microbiomedb/abundance_app')
runApp('Projects/microbiomedb/abundance_app')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
function1 <- function(a){
return(ave(a))
}
function1(1:5)
function1 <- function(a){
return(mean(a))
}
function1(1:5)
function2 <- function(fun, a){
fun(a)
}
function2(function1, 1:5)
function1 <- function(a){
return(mean(a))
}
function2 <- function(fun, a){
as.function("function1", a)
}
function2("function1", 1:5)
function2 <- function(fun, a){
as.function("function1")(a)
}
function2("function1", 1:5)
function2 <- function(fun, a){
fun2<-as.function(fun)
fun2(a)
}
function2("function1", 1:5)
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
runApp('Projects/microbiomedb/alpha_diversity')
v<-c(7,6,1,2,5,3,8)
total<-sum(v)
total
n_bins<-4
v<-c(7,6,1,2,5,3,8,4,2,7)
total<-sum(v)
mean_samples<-total/n_bins
mean_samples
min<-min(v)
min_v<-min(v)
min_v
which(v, min_v)
match(v, min_v)
which(v==min_v)
while(length(final_vector)>n_bins){
print("")
final_vector<-c(1,2)
}
min_v<-min(v)
final_vector<-v
while(length(final_vector)>n_bins){
print("")
final_vector<-c(1,2)
}
split(v, 4)
df<-data.table(V1 = c(1L, 2L, 8L, 6L, 4L, 17L, 16L, 11L, 15L),
V2 = c(11.3178501, 10.3969713, 9.5067421, 6.6135932, 5.4157174,
3.8860793, 3.8183699, 1.2574765, 0.7084411), V3 = c(4L, 20L,
14L, 6L, 2L, 5L, 15L, 18L, 7L), V4 = c(9L, 8L, 7L, 6L, 5L,
4L, 3L, 2L, 1L), V5 = c(11.61888, 11.047486, 10.079806, 7.002669,
5.566232, 4.235564, 4.406416, 1.885113, 1.13099))
library(data.table)
df<-data.table(V1 = c(1L, 2L, 8L, 6L, 4L, 17L, 16L, 11L, 15L),
V2 = c(11.3178501, 10.3969713, 9.5067421, 6.6135932, 5.4157174,
3.8860793, 3.8183699, 1.2574765, 0.7084411), V3 = c(4L, 20L,
14L, 6L, 2L, 5L, 15L, 18L, 7L), V4 = c(9L, 8L, 7L, 6L, 5L,
4L, 3L, 2L, 1L), V5 = c(11.61888, 11.047486, 10.079806, 7.002669,
5.566232, 4.235564, 4.406416, 1.885113, 1.13099))
cut(df$V5, seq(0,15, by=5))
v<-c(7,6,1,3,6,4,9,1,3,6,3)
total<-sum(v)
mean_samples<-total/n_bins
total
mean_samples
min_v<-min(v)
min_v
source('~/Projects/microbiomedb/abundance_app/testing.R')
while(length(final_vector)>n_bins){
min_v<-min(v)
minimuns<-which(v==min_v)
print(minimuns)
# for(i in length())
final_vector<-c(1,2)
}
source('~/Projects/microbiomedb/abundance_app/testing.R')
cut(v, breaks = mean_samples)
mean_samples
cut(v, 4)
mstudy <- import.eupath(taxa_relative_path, sample_path, taxon_level, F)
all_measures <- c("Chao1", "ACE", "Shannon", "Simpson", "Fisher")
phyloseq_obj <- mbiome2phyloseq(mstudy, "Species")
richness_object <- estimate_richness(phyloseq_obj, measures = all_measures)
setwd("/Users/francislon/Projects/microbiomedb/abundance_app")
library(ggplot2)
library(data.table)
source("../common/ggplot_ext/eupath_default.R")
source("../common/mbiome/mbiome-reader.R")
taxa_relative_path <- "MicrobiomeSampleByMetadata_TaxaRelativeAbundance.txt"
sample_path <- "MicrobiomeSampleByMetadata_Characteristics.txt"
taxon_level <- "Species"
mstudy <- import.eupath(taxa_relative_path, sample_path, taxon_level)
mstudy <- import.eupath(taxa_relative_path, sample_path, taxon_level, F)
all_measures <- c("Chao1", "ACE", "Shannon", "Simpson", "Fisher")
phyloseq_obj <- mbiome2phyloseq(mstudy, "Species")
richness_object <- estimate_richness(phyloseq_obj, measures = all_measures)
library(phyloseq)
source("../common/ggplot_ext/eupath_default.R")
source("../common/mbiome/mbiome-reader.R")
taxa_relative_path <- "MicrobiomeSampleByMetadata_TaxaRelativeAbundance.txt"
sample_path <- "MicrobiomeSampleByMetadata_Characteristics.txt"
taxon_level <- "Species"
mstudy <- import.eupath(taxa_relative_path, sample_path, taxon_level)
mstudy <- import.eupath(taxa_relative_path, sample_path, taxon_level, F)
all_measures <- c("Chao1", "ACE", "Shannon", "Simpson", "Fisher")
phyloseq_obj <- mbiome2phyloseq(mstudy, "Species")
richness_object <- estimate_richness(phyloseq_obj, measures = all_measures)
richness_object$SampleName <- gsub("\\.", "\\-", rownames(richness_object))
measures<-c("Shannon", "Simpson")
rich <- richness_object[,c("SampleName", measures)]
rich
data_melted<-melt(rich, id.vars = c("SampleName"),  measure.vars=measures)
measures<-c("Shannon", "Simpson")
category<-"age in days"
dt_metadata<-mstudy$get_metadata_as_column(category)
dt_metadata
col_renamed <- make.names(category)
all_columns <- colnames(dt_metadata)
pos_cols <- 2+length(col_renamed)-1
all_columns[2:pos_cols]<-col_renamed
colnames(dt_metadata)<-all_columns
split(richness_merged, by=c("age.in.days"))
rich <- richness_object[,c("SampleName", measures)]
rich
split(richness_merged, by=c("age.in.days"))
split(richness_merged, by=c("age.in.days"))
richness_object
richness_merged <- merge(dt_metadata, rich, by = "SampleName")
split(richness_merged, by=c("age.in.days"))
rich_copied[ , `:=`( COUNT = .N ) , by = age.in.days ]
rich_copied<-richness_merged[,"age.in.days"]
aggregate(rich_copied,
by=list("age.in.days"), NROW)
rich_copied[ , `:=`( COUNT = .N ) , by = age.in.days ]
rich_copied
